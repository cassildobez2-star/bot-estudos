<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Matem√°ticaBC.com - Calculadora Avan√ßada</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/11.8.0/math.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/algebrite/1.5.0/algebrite.min.js"></script>

<style>
body{margin:0;font-family:Arial,sans-serif;background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);color:white;}
header{text-align:center;padding:15px;font-size:22px;font-weight:bold;}
.nav{display:flex;justify-content:space-around;background:#1f4068;}
.nav button{flex:1;padding:12px;border:none;background:none;color:white;font-weight:bold;cursor:pointer;transition:0.2s;}
.nav button.active{background:#00c6ff;color:black;}
.section{display:none;padding:20px;}
.section.active{display:block;}
input, select{width:100%;padding:12px;border-radius:10px;border:none;margin-bottom:10px;font-size:16px;}
button.calc{width:100%;padding:12px;border:none;border-radius:10px;background:#00c6ff;font-weight:bold;cursor:pointer;margin-bottom:10px;}
.result{margin-top:15px;background:rgba(255,255,255,0.1);padding:15px;border-radius:15px;min-height:40px;font-size:16px;word-wrap:break-word;}
</style>
</head>
<body>

<header>üìê Matem√°ticaBC.com - Calculadora Avan√ßada</header>

<div class="nav">
    <button onclick="showTab('basica', this)" class="active">B√°sica</button>
    <button onclick="showTab('algebra', this)">√Ålgebra</button>
    <button onclick="showTab('calculo', this)">C√°lculo</button>
    <button onclick="showTab('geometria', this)">Geometria</button>
</div>

<!-- Aba B√°sica -->
<div id="basica" class="section active">
    <input type="text" id="basicInput" placeholder="Ex: 5^2 + 11*3">
    <button class="calc" onclick="calcBasic()">Calcular</button>
    <div class="result" id="basicResult"></div>
</div>

<!-- Aba √Ålgebra -->
<div id="algebra" class="section">
    <input type="text" id="algebraInput" placeholder="Equa√ß√£o Ex: x^2 - 4">
    <input type="text" id="userAnswer" placeholder="Sua resposta (opcional)">
    <button class="calc" onclick="solveEquation()">Resolver</button>
    <button class="calc" onclick="corrigir()">Corrigir Resposta</button>
    <div class="result" id="algebraResult"></div>
</div>

<!-- Aba C√°lculo -->
<div id="calculo" class="section">
    <select id="calcMode">
        <option value="derivar">Derivar</option>
        <option value="integrar">Integrar</option>
        <option value="limite">Limite</option>
    </select>
    <input type="text" id="calcInput" placeholder="Ex: x^3 + 11*x">
    <input type="text" id="limitePoint" placeholder="Valor para limite (ex: x‚Üí2)" style="display:none;">
    <button class="calc" onclick="calcCalculus()">Calcular</button>
    <div class="result" id="calcResult"></div>
</div>

<!-- Aba Geometria -->
<div id="geometria" class="section">
    <input type="number" id="lado" placeholder="Lado do Cubo">
    <button class="calc" onclick="volumeCubo()">Calcular Volume</button>
    <div class="result" id="geoResult"></div>
</div>

<script>
// Navega√ß√£o por abas
function showTab(id, btn){
    document.querySelectorAll('.section').forEach(sec=>sec.classList.remove('active'));
    document.querySelectorAll('.nav button').forEach(b=>b.classList.remove('active'));
    document.getElementById(id).classList.add('active');
    btn.classList.add('active');

    // Mostrar/ocultar input do limite
    if(id==="calculo"){
        document.getElementById("calcMode").addEventListener("change", function(){
            document.getElementById("limitePoint").style.display = this.value==="limite"?"block":"none";
        });
    }
}

// ---------- B√°sica ----------
function calcBasic(){
    try{
        let v = document.getElementById("basicInput").value;
        let result = math.evaluate(v);
        document.getElementById("basicResult").innerText = result;
    }catch{
        document.getElementById("basicResult").innerText = "Erro na express√£o";
    }
}

// ---------- √Ålgebra ----------
function solveEquation(){
    try{
        let eq = document.getElementById("algebraInput").value;
        let res = Algebrite.run("roots(" + eq + ")");
        document.getElementById("algebraResult").innerText = res;
    }catch{
        document.getElementById("algebraResult").innerText = "Erro: use formato correto, ex: x^2 - 4";
    }
}

function corrigir(){
    try{
        let respostaUsuario = document.getElementById("userAnswer").value;
        let eq = document.getElementById("algebraInput").value;
        let resultadoCorreto = Algebrite.run("roots(" + eq + ")");
        if(respostaUsuario && resultadoCorreto.includes(respostaUsuario)){
            alert("‚úÖ Correto!");
        } else {
            alert("‚ùå Resposta correta: " + resultadoCorreto);
        }
    }catch{
        alert("Erro ao corrigir resposta");
    }
}

// ---------- C√°lculo ----------
function calcCalculus(){
    try{
        let expr = document.getElementById("calcInput").value;
        let mode = document.getElementById("calcMode").value;
        let output = document.getElementById("calcResult");

        if(mode==="derivar"){
            output.innerText = Algebrite.run("d("+expr+", x)");
        } else if(mode==="integrar"){
            output.innerText = Algebrite.run("integral("+expr+", x)");
        } else if(mode==="limite"){
            let ponto = document.getElementById("limitePoint").value;
            if(!ponto) { output.innerText="Informe o ponto para o limite"; return; }
            let limiteExpr = "limit("+expr+", x,"+ponto+")";
            output.innerText = Algebrite.run(limiteExpr);
        }
    }catch{
        document.getElementById("calcResult").innerText = "Erro no c√°lculo";
    }
}

// ---------- Geometria ----------
function volumeCubo(){
    try{
        let lado = parseFloat(document.getElementById("lado").value);
        document.getElementById("geoResult").innerText = "Volume = " + (lado**3);
    }catch{
        document.getElementById("geoResult").innerText = "Erro no c√°lculo";
    }
}
</script>
</body>
        </html>
