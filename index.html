<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8">
<title>MatematicaBC</title>
<style>

body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: #f4f6f9;
    display: flex;
}

/* MENU LATERAL */
.sidebar {
    width: 220px;
    height: 100vh;
    background: #1f2937;
    color: white;
    padding-top: 20px;
    position: fixed;
}

.sidebar h2 {
    text-align: center;
    margin-bottom: 30px;
}

.sidebar button {
    width: 100%;
    padding: 15px;
    border: none;
    background: none;
    color: white;
    text-align: left;
    cursor: pointer;
    font-size: 16px;
}

.sidebar button:hover {
    background: #374151;
}

/* CONTEÚDO */
.content {
    margin-left: 220px;
    padding: 40px;
    flex: 1;
}

.secao {
    display: none;
}

.secao.ativa {
    display: block;
}

.card {
    background: white;
    padding: 25px;
    border-radius: 10px;
    box-shadow: 0px 4px 10px rgba(0,0,0,0.05);
}

input {
    padding: 10px;
    width: 300px;
    margin-top: 10px;
}

button.calcular {
    padding: 10px 20px;
    margin-top: 15px;
    background: #2563eb;
    color: white;
    border: none;
    border-radius: 6px;
    cursor: pointer;
}

.resultado {
    margin-top: 20px;
    font-weight: bold;
}

</style>
</head>
<body>

<div class="sidebar">
    <h2>MatematicaBC</h2>
    <button onclick="mostrarSecao('algebra')">Álgebra</button>
    <button onclick="mostrarSecao('calculo')">Cálculo</button>
    <button onclick="mostrarSecao('geometria')">Geometria</button>
</div>

<div class="content">

    <!-- ÁLGEBRA -->
    <div id="algebra" class="secao ativa">
        <div class="card">
            <h2>Resolver Equação</h2>
            <input id="exprAlgebra" placeholder="Ex: x^2 - 4">
            <br>
            <button class="calcular" onclick="calcular('equacao','exprAlgebra')">
                Calcular
            </button>
            <div id="resAlgebra" class="resultado"></div>
        </div>
    </div>

    <!-- CÁLCULO -->
    <div id="calculo" class="secao">
        <div class="card">
            <h2>Derivada</h2>
            <input id="exprDerivada" placeholder="Ex: x^2 + 3x">
            <br>
            <button class="calcular" onclick="calcular('derivada','exprDerivada')">
                Calcular
            </button>
            <div id="resDerivada" class="resultado"></div>
        </div>

        <div class="card" style="margin-top:20px;">
            <h2>Integral</h2>
            <input id="exprIntegral" placeholder="Ex: x^2">
            <br>
            <button class="calcular" onclick="calcular('integral','exprIntegral')">
                Calcular
            </button>
            <div id="resIntegral" class="resultado"></div>
        </div>
    </div>

    <!-- GEOMETRIA -->
    <div id="geometria" class="secao">
        <div class="card">
            <h2>Distância entre dois pontos</h2>
            <input id="ponto1" placeholder="Ex: 0,0">
            <input id="ponto2" placeholder="Ex: 3,4">
            <br>
            <button class="calcular" onclick="distancia()">
                Calcular
            </button>
            <div id="resGeo" class="resultado"></div>
        </div>
    </div>

</div>

<script>

function mostrarSecao(id) {
    document.querySelectorAll('.secao').forEach(secao => {
        secao.classList.remove('ativa');
    });
    document.getElementById(id).classList.add('ativa');
}

async function calcular(modo, inputId) {
    const expressao = document.getElementById(inputId).value;

    const response = await fetch("https://SEU_BACKEND_RAILWAY_URL/calcular", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ modo: modo, expressao: expressao })
    });

    const data = await response.json();

    document.getElementById("res" + inputId.replace("expr",""))
        .innerText = data.resultado || data.erro;
}

function distancia() {
    const p1 = document.getElementById("ponto1").value.split(",");
    const p2 = document.getElementById("ponto2").value.split(",");

    const dx = p2[0] - p1[0];
    const dy = p2[1] - p1[1];

    const dist = Math.sqrt(dx*dx + dy*dy);

    document.getElementById("resGeo").innerText = "Distância: " + dist;
}

</script>

</body>
                </html>
