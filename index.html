<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Calculadora Matem√°tica Interativa</title>

<!-- Bibliotecas -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/11.8.0/math.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/algebrite/1.5.0/algebrite.min.js"></script>

<style>
body{
    margin:0;
    font-family:Arial, sans-serif;
    background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
    color:white;
}

header{
    text-align:center;
    padding:15px;
    font-size:22px;
    font-weight:bold;
}

.nav{
    display:flex;
    justify-content:space-around;
    background:#1f4068;
}

.nav button{
    flex:1;
    padding:12px;
    border:none;
    background:none;
    color:white;
    font-weight:bold;
    cursor:pointer;
}

.nav button.active{
    background:#00c6ff;
    color:black;
}

.section{
    display:none;
    padding:20px;
}

.section.active{
    display:block;
}

input{
    width:100%;
    padding:12px;
    border-radius:10px;
    border:none;
    margin-bottom:10px;
}

button.calc{
    width:100%;
    padding:12px;
    border:none;
    border-radius:10px;
    background:#00c6ff;
    font-weight:bold;
    cursor:pointer;
}

.result{
    margin-top:15px;
    background:rgba(255,255,255,0.1);
    padding:15px;
    border-radius:15px;
}
</style>
</head>

<body>

<header>üìê Calculadora Matem√°tica Interativa</header>

<div class="nav">
    <button onclick="showTab('basica', this)" class="active">B√°sica</button>
    <button onclick="showTab('algebra', this)">√Ålgebra</button>
    <button onclick="showTab('calculo', this)">C√°lculo</button>
    <button onclick="showTab('geometria', this)">Geometria</button>
</div>

<!-- B√°sica -->
<div id="basica" class="section active">
    <input type="text" id="basicInput" placeholder="Ex: 5^2 + 3">
    <button class="calc" onclick="calcBasic()">Calcular</button>
    <div class="result" id="basicResult"></div>
</div>

<!-- √Ålgebra -->
<div id="algebra" class="section">
    <input type="text" id="algebraInput" placeholder="Ex: x^2 - 4">
    <input type="text" id="userAnswer" placeholder="Sua resposta">
    <button class="calc" onclick="solveEquation()">Resolver</button>
    <button class="calc" onclick="corrigir()">Corrigir Resposta</button>
    <div class="result" id="algebraResult"></div>
</div>

<!-- C√°lculo -->
<div id="calculo" class="section">
    <select id="calcMode">
        <option value="derivar">Derivar</option>
        <option value="integrar">Integrar</option>
    </select>
    <input type="text" id="calcInput" placeholder="Ex: x^3">
    <button class="calc" onclick="calcCalculus()">Calcular</button>
    <div class="result" id="calcResult"></div>
</div>

<!-- Geometria -->
<div id="geometria" class="section">
    <input type="number" id="lado" placeholder="Lado do Cubo">
    <button class="calc" onclick="volumeCubo()">Calcular Volume</button>
    <div class="result" id="geoResult"></div>
</div>

<script>
// Navega√ß√£o por abas
function showTab(id, btn){
    document.querySelectorAll('.section').forEach(sec=>sec.classList.remove('active'));
    document.querySelectorAll('.nav button').forEach(b=>b.classList.remove('active'));
    document.getElementById(id).classList.add('active');
    btn.classList.add('active');
}

// B√°sica
function calcBasic(){
    try{
        let v = document.getElementById("basicInput").value;
        document.getElementById("basicResult").innerText = math.evaluate(v);
    }catch{
        document.getElementById("basicResult").innerText = "Erro";
    }
}

// √Ålgebra
function solveEquation(){
    try{
        let eq = document.getElementById("algebraInput").value;
        let res = math.solve(eq, 'x');
        document.getElementById("algebraResult").innerText = res;
    }catch{
        document.getElementById("algebraResult").innerText = "Use formato: x^2 - 4";
    }
}

function corrigir(){
    const respostaUsuario = document.getElementById("userAnswer").value;
    const resultadoCorreto = math.evaluate(document.getElementById("algebraInput").value);
    if(respostaUsuario == resultadoCorreto){
        alert("‚úÖ Correto!");
    } else {
        alert("‚ùå Errado! Resposta correta: " + resultadoCorreto);
    }
}

// C√°lculo
function calcCalculus(){
    try{
        let expr = document.getElementById("calcInput").value;
        let mode = document.getElementById("calcMode").value;
        let output = document.getElementById("calcResult");

        if(mode === "derivar"){
            output.innerText = Algebrite.run("d(" + expr + ", x)");
        } else if(mode === "integrar"){
            output.innerText = Algebrite.run("integral(" + expr + ", x)");
        }
    }catch{
        document.getElementById("calcResult").innerText = "Erro";
    }
}

// Geometria
function volumeCubo(){
    let lado = document.getElementById("lado").value;
    document.getElementById("geoResult").innerText =
        "Volume = " + (lado**3);
}
</script>

</body>
</html>
